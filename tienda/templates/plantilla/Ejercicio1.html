{% extends "base.html" %}

{% block titulo %}Ejercicio 1B1{% endblock %}

{% block contenido %}

<div style="background-color: #f2f2f2; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
    <h2 style="font-weight: bold;">Restaurant Ming</h2>
    <p>Le restaurant Ming √† Rolle offre √† ses clients une atmosph√®re unique et une cuisine chinoise exquise.
        La cuisine classique de P√©kin fait partie de nos sp√©cialit√©s. Vous trouverez dans notre carte riche et
        vari√©e √©galement des plats originaires du nord-ouest de la Chine ainsi que du Tibet. Grand choix de mets v√©g√©tariens.</p>
    <p><strong>Prix raisonnables:</strong> plats principaux entre 12 CHF et 21 CHF, entr√©es et accompagnements d√®s 4 CHF.</p>
    <p>Grande salle spacieuse avec vue sur le lac L√©man et salles s√©par√©es pour r√©ceptions priv√©es et √©v√®nements particuliers.
        Nombreuses places de parc √† disposition.</p>
    <p>R√©servations de tables d√®s 10h30 au 021 825 10 66. Pour des r√©servations pour des groupes et √©v√®nements particuliers,
        veuillez nous contacter par e-mail: <strong>info@restaurantming.ch</strong>, afin de recevoir nos offres et propositions.</p>
</div>

<div style="border: 1px solid #000; padding: 20px; border-radius: 10px; max-width: 600px;">
    <h3>Restaurant Ming</h3>
    {% if mensaje %}
        <div class="alert alert-success" role="alert">
            {{ mensaje }}
        </div>
    {% endif %}

    <form method="post" action="{% url 'ejercicio1' %}" class="needs-validation" novalidate id="formulario">


        {% csrf_token %}

        {% for field in form %}
            <div class="mb-3">
                <label for="{{ field.id_for_label }}" class="form-label"><strong>{{ field.label }} :</strong></label>
                {{ field }}
                {% if form.is_bound %}
                    {% if field.errors %}
                        <div class="invalid-feedback" style="display:block;">
                            ‚ùå {{ field.errors.0 }} üòû
                        </div>
                    {% else %}
                        <div class="valid-feedback" style="display:block;">
                            ‚úÖ Bien rempli ! üòä
                        </div>
                    {% endif %}
                {% endif %}
            </div>
        {% endfor %}
        

        <button type="submit" class="btn btn-success" style="margin-top: 20px;">Enregistrer</button>
        <button type="button" class="btn btn-secondary" style="margin-top: 20px; margin-left: 10px;" onclick="limpiarFormulario()">R√©initialiser</button>
        <a href="{% url 'ejercicio2' %}" class="btn btn-primary" style="margin-top: 20px; margin-left: 10px;">Exercice suivant</a>
    </form>


</div>

<script>
    // Bootstrap validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')

        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })
    })();
    function limpiarFormulario() {
    const form = document.getElementById("formulario");
    
    // Limpiar todos los inputs, textareas y selects
    const fields = form.querySelectorAll('input, textarea, select');

    fields.forEach(function(field) {
        if (field.name === 'csrfmiddlewaretoken') return;
        // Limpiar valores seg√∫n tipo
        if (field.type === 'checkbox' || field.type === 'radio') {
            field.checked = false;
        } else {
            field.value = '';
        }

        // Quitar clases de validaci√≥n visuales
        field.classList.remove('is-valid');
        field.classList.remove('is-invalid');
    });

    // Quitar clases globales de validaci√≥n
    form.classList.remove('was-validated');

    // Ocultar todos los mensajes de feedback
    const feedbacks = form.querySelectorAll('.valid-feedback, .invalid-feedback');
    feedbacks.forEach(function(el) {
        el.style.display = 'none';
    });
}
</script>

{% endblock %}


